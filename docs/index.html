<!doctype html>
<html>
<head>
    <meta charset=utf-8>
    <title>htmlmodule docs index</title>
    <link rel=stylesheet href=./lib/index.css>
</head>
<body>
    <script src=./build/build.window.htmlmodule.js></script>
    <script src=./build/build.index.js></script>
    <script>
    {
        const {
            text, a, code, pre, main, ul, li, p,
            details, summary, fieldset, legend
        } = htmlmodule;

        const { siteheading, sitenav } = indexmodule;

        const pagesource = details(summary('page source'));

        const keys = Object.keys(htmlmodule);
        const items = keys.map(function(key) {
            return li(a({
                href : './api#' + key.toLowerCase(),
                target : 'blank',
                children : code(key)
            }))
        });

        document.body.append(
            siteheading(),
            pagesource,
            main(fieldset([
                legend('htmlmodule index'),
                ul(items)
            ])),
            sitenav());

        Promise.all([
            fetch('index.html').then(function(response) { return response.text() }),
            fetch('lib/index.js').then(function(response) { return response.text() }),
            fetch('lib/index.css').then(function(response) { return response.text() })
        ]).then(function([html, js, css]) {
            pagesource.append(
                'lib/index.js', code(pre(js)),
                'index.html', code(pre(html)),
                'lib/index.css', code(pre(css))
            );
        });
    }
    </script>
</body>
</html>
